<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz App</title>
<style>
  body {
    font-family: Arial, sans-serif;
  }
  #quiz-container {
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
    border: 1px solid #ccc;
    border-radius: 10px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  }
</style>
</head>
<body>
<div id="quiz-container">
  <h1>Quiz App</h1>
  <div id="question"></div>
  <div id="options"></div>
  <p id="timer">Time: <span id="time-remaining"></span></p>
  <button id="prev-btn">Previous</button>
  <button id="next-btn">Next</button>
</div>
<script>
  const questions = [
    {
      question: "What is the capital of France?",
      options: ["Paris", "Berlin", "Madrid", "Rome"],
      answer: "Paris"
    },
    {
      question: "Which planet is known as the Red Planet?",
      options: ["Mars", "Venus", "Jupiter", "Saturn"],
      answer: "Mars"
    },
    {
      question: "What is the largest mammal?",
      options: ["Elephant", "Blue Whale", "Giraffe", "Hippopotamus"],
      answer: "Blue Whale"
    }
  ];

  const questionElement = document.getElementById("question");
  const optionsElement = document.getElementById("options");
  const prevButton = document.getElementById("prev-btn");
  const nextButton = document.getElementById("next-btn");
  const timerElement = document.getElementById("time-remaining");

  let currentQuestionIndex = 0;
  let remainingTime = getStoredTime() || 50 * 60; 

  function showQuestion(questionIndex) {
    clearInterval(timerInterval);
    
    const question = questions[questionIndex];
    questionElement.textContent = question.question;
    optionsElement.innerHTML = "";

    question.options.forEach(option => {
      const optionElement = document.createElement("button");
      optionElement.textContent = option;
      optionElement.classList.add("option-btn");
      optionElement.addEventListener("click", () => checkAnswer(option, question.answer));
      optionsElement.appendChild(optionElement);
    });

    prevButton.disabled = questionIndex === 0;
    nextButton.disabled = questionIndex === questions.length - 1;

    updateTimer();
    startTimer();
  }

  function checkAnswer(selectedOption, correctAnswer) {
    clearInterval(timerInterval);
    
    if (selectedOption === correctAnswer) {
      alert("Correct!");
    } else {
      alert("Wrong! The correct answer is: " + correctAnswer);
    }

    storeTime(remainingTime); 
    showNextQuestion();
  }

  function showNextQuestion() {
    currentQuestionIndex++;
    if (currentQuestionIndex < questions.length) {
      showQuestion(currentQuestionIndex);
    } else {
      alert("Quiz finished!");
    
    }
  }

  function updateTimer() {
    const minutes = Math.floor(remainingTime / 60);
    const seconds = remainingTime % 60;
    timerElement.textContent = `Time: ${minutes}:${seconds < 10 ? "0" : ""}${seconds}`;
  }

  let timerInterval;

  function startTimer() {
    timerInterval = setInterval(() => {
      remainingTime--;
      updateTimer();

      if (remainingTime <= 0) {
        clearInterval(timerInterval);
        alert("Time's up!");
        storeTime(remainingTime); 
        showNextQuestion();
      }
    }, 1000);
  }

  function getStoredTime() {
    return localStorage.getItem("quizRemainingTime");
  }

  function storeTime(time) {
    localStorage.setItem("quizRemainingTime", time);
  }

  prevButton.addEventListener("click", () => showQuestion(--currentQuestionIndex));
  nextButton.addEventListener("click", () => checkAnswer(null, null));

  showQuestion(currentQuestionIndex);
</script>
</body>
</html>
